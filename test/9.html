


<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
 <link rel="icon" type="image/vnd.microsoft.icon" href="http://www.gstatic.com/codesite/ph/images/phosting.ico">
 
 <script type="text/javascript">
 
 
 
 var codesite_token = null;
 
 
 var logged_in_user_email = null;
 
 
 var relative_base_url = "";
 
 </script>
 
 
 <title>Issue 9 - 
 chromium -
 
 The rendering place and sidebar does not resize with other elements - Project Hosting on Google Code</title>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
 
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/9392543809124535420/css/ph_core.css">
 
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/9392543809124535420/css/ph_detail.css" >
 
 
 
 
<!--[if IE]>
 <link type="text/css" rel="stylesheet" href="http://www.gstatic.com/codesite/ph/9392543809124535420/css/d_ie.css" >
<![endif]-->
 <style type="text/css">
 .menuIcon.off { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -42px }
 .menuIcon.on { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 -28px }
 .menuIcon.down { background: no-repeat url(http://www.gstatic.com/codesite/ph/images/dropdown_sprite.gif) 0 0; }
 </style>
</head>
<body class="t3">
 <script type="text/javascript">
 var _gaq = _gaq || [];
 _gaq.push(
 ['siteTracker._setAccount', 'UA-18071-1'],
 ['siteTracker._trackPageview']);
 
 (function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
 </script>
 <div id="gaia">
 
 <span>
 
 <a href="#" id="projects-dropdown" onclick="return false;"><u>My favorites</u> <small>&#9660;</small></a>
 | <a href="https://www.google.com/accounts/ServiceLogin?service=code&amp;ltmpl=phosting&amp;continue=http%3A%2F%2Fcode.google.com%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D9&amp;followup=http%3A%2F%2Fcode.google.com%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D9" onclick="_CS_click('/gb/ph/signin');"><u>Sign in</u></a>
 
 </span>

 </div>
 <div class="gbh" style="left: 0pt;"></div>
 <div class="gbh" style="right: 0pt;"></div>
 
 
 <div style="height: 1px"></div>
<!--[if IE 6]>
<div style="text-align:center;">
Support browsers that contribute to open source, try <a href="http://www.firefox.com">Firefox</a> or <a href="http://www.google.com/chrome">Google Chrome</a>.
</div>
<![endif]-->

 <div style="font-weight:bold; color:#a03; padding:5px; margin-top:10px; margin-bottom:-10px; text-align:center; background:#ffeac0;">
 Project Hosting will be READ-ONLY <a href='http://www.timeanddate.com/worldclock/fixedtime.html?month=6&day=9&year=2010&hour=7&min=0&sec=0&p1=224'>Wednesday at 7:00am PDT</a> due to brief network maintenance.
 
 </div>



 <table style="padding:0px; margin: 20px 0px 0px 0px; width:100%" cellpadding="0" cellspacing="0">
 <tr style="height: 58px;">
 
 <td style="width: 55px; text-align:center;">
 <a href="/p/chromium/">
 
 
 <img src="/p/chromium/logo?cct=1275965165" alt="Logo">
 
 </a>
 </td>
 
 <td style="padding-left: 0.5em">
 
 <div id="pname" style="margin: 0px 0px -3px 0px">
 <a href="/p/chromium/" style="text-decoration:none; color:#000">chromium</a>
 
 </div>
 <div id="psum">
 <i><a id="project_summary_link" href="/p/chromium/" style="text-decoration:none; color:#000">An open-source browser project to help move the web forward.</a></i>
 </div>
 
 </td>
 <td style="white-space:nowrap;text-align:right">
 
 <form action="/hosting/search">
 <input size="30" name="q" value="">
 <input type="submit" name="projectsearch" value="Search projects" >
 </form>
 
 </tr>
 </table>


 
<table id="mt" cellspacing="0" cellpadding="0" width="100%" border="0">
 <tr>
 <th onclick="if (!cancelBubble) _go('/p/chromium/');">
 <div class="tab inactive">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="/p/chromium/">Project&nbsp;Home</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 
 
 <th onclick="if (!cancelBubble) _go('/p/chromium/downloads/list');">
 <div class="tab inactive">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="/p/chromium/downloads/list">Downloads</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 
 
 
 <th onclick="if (!cancelBubble) _go('/p/chromium/w/list');">
 <div class="tab inactive">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="/p/chromium/w/list">Wiki</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 
 
 
 <th onclick="if (!cancelBubble) _go('/p/chromium/issues/list');">
 <div class="tab active">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <a onclick="cancelBubble=true;" href="/p/chromium/issues/list">Issues</a>
 </div>
 </div>
 </th><td>&nbsp;&nbsp;</td>
 
 
 
 
 <td width="100%">&nbsp;</td>
 </tr>
</table>
<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
 <tr>
 
 
 
 
 
 <td>
 <div class="issueDetail">
<div class="isf">
 
 
 <span class="inIssueEntry">
 <a href="entry">New issue</a>
 </span> |
 
 <span class="inIssueList">
 <span>Search</span>
 <form action="list" method="GET" style="display:inline">
 <select id="can" name="can" style="font-size:92%">
 
<option disabled="disabled">Search within:</option>
<option value="1" >&nbsp;All issues</option>
<option value="2" selected=selected>&nbsp;Open issues</option>

<option value="6" >&nbsp;New issues</option>
<option value="7" >&nbsp;Issues to verify</option>

 </select>
 <span>for</span>
 <span id="qq"><input type="text" size="38" id="q" name="q" value="" style="font-size:92%" ></span>
 
 <span id="search_colspec"><input type="hidden" name="colspec" value="ID Stars Pri Area Feature Type Status Summary Modified Owner Mstone OS" ></span>
 
 
 
 <input type="hidden" name="cells" value="tiles" >
 <input type="submit" value="Search" style="font-size:92%" >
 </form>
 </span> |
 <span class="inIssueAdvSearch">
 <a href="advsearch">Advanced search</a>
 </span> |
 <span class="inIssueSearchTips">
 <a href="searchtips">Search tips</a>
 </span>
</div>
</div>

 </td>
 
 
 
 
 <td height="4" align="right" valign="top" class="bevel-right">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 </td>
 </tr>
</table>
<script type="text/javascript">
 var cancelBubble = false;
 function _go(url) { document.location = url; }
</script>


<div id="maincol"
 
>

 
<!-- IE -->






 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

<style type="text/css">
 .attachments { width:33%; border-top:2px solid #999; padding-top: 3px; margin-left: .7em;}
 .attachments table { margin-bottom: 0.75em; }
 .attachments table tr td { padding: 0; margin: 0; font-size: 95%; }
 .preview { border: 2px solid #c3d9ff; padding: 1px; }
 .preview:hover { border: 2px solid blue; }
 .label { white-space: nowrap; }
 .derived { font-style:italic }
 tr.cursor_on .author {
 background: #fff url(http://www.gstatic.com/codesite/ph/images/show-arrow.gif) no-repeat 2px;
 }
</style>
<div id="color_control" class="closed_colors">
<div id="issueheader">
<table cellpadding="0" cellspacing="0" width="100%"><tbody>
 <tr>
 <td class="vt h3" nowrap="nowrap" style="padding:0 5px">
 
 
 Issue <a href="detail?id=9">9</a>:
 </td>
 <td width="90%" class="vt">
 <span class="h3" >The rendering place and sidebar does not resize with other elements</span>
 </td>
 <td>
 
 </td>
 </tr>
 <tr>
 <td></td>
 <td nowrap="nowrap">
 
 
 3 people starred this issue and may be notified of changes.
 
 
 
 </td>
 <td align="center" nowrap="nowrap">
 
 <a href="http://code.google.com/p/chromium/issues/list?cursor=9">Back to list</a>
 
 </td>
 </tr>
</tbody></table>
</div>
<table width="100%" cellpadding="0" cellspacing="0" border="0" class="issuepage" id="meta-container">
<tbody id="cursorarea" class="collapse"> 
 <tr class="cursor_off">
 <td id="issuemeta" rowspan="22">
 <div id="meta-float">
 <table cellspacing="0" cellpadding="0">
 <tr><th align="left">Status:&nbsp;</th>
 <td width="100%">
 
 <span title="Test or reporter verified that the fix works">Verified</span>
 
 </td>
 </tr>
 
 <tr><th align="left">Owner:&nbsp;</th><td>
 
 <a style="white-space: nowrap" href="/u/mal.chromium/">mal.chromium</a>
 
 </td>
 </tr>
 
 <tr><th align="left" valign="top">Closed:&nbsp;</th>
 <td align="left" valign="top" width="100%">
 Jul 2009
 </td>
 </tr>
 
 
 
 
 <tr><td colspan="2">
 <a href="list?q=label:Type-Bug"
 title="Software not working correctly"
 class="label"><b>Type-</b>Bug</a>
 </td></tr>
 
 
 
 <tr><td colspan="2">
 <a href="list?q=label:Pri-2"
 title="Normal. Required for specified milestone."
 class="label"><b>Pri-</b>2</a>
 </td></tr>
 
 
 
 <tr><td colspan="2">
 <a href="list?q=label:OS-All"
 title="Affects all operating systems"
 class="label"><b>OS-</b>All</a>
 </td></tr>
 
 
 
 <tr><td colspan="2">
 <a href="list?q=label:Area-Unknown"
 title=""
 class="label"><b>Area-</b>Unknown</a>
 </td></tr>
 
 
 
 <tr><td colspan="2"><a href="list?q=label:gmail"
 title=""
 class="label">gmail</a></td></tr>
 
 
 
 </table>
 <br><br>
 
 
 
 <div style="white-space:nowrap"><a href="https://www.google.com/accounts/ServiceLogin?service=code&amp;ltmpl=phosting&amp;continue=http%3A%2F%2Fcode.google.com%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D9&amp;followup=http%3A%2F%2Fcode.google.com%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D9">Sign in</a> to add a comment</div>
 
 
 
 <div class="rel_issues">
 
 
 
 </div>
 
 
 </div>&nbsp;
 </td>
 <td class="vt issuedescription" width="100%">
 <div class="author">
 Reported by <a style="white-space: nowrap" href="/u/rrutek/">rrutek</a>,
 <span class="date" title="Tue Sep  2 12:11:41 2008">Sep 02, 2008</span>
 
 </div>
<pre>
Product Version      : 0.2.149.27 (1583) @ Windows XP
URLs (if applicable) : gmail.com
<b>Other browsers tested:</b>
<b>Add OK or FAIL after other browsers where you have tested this issue:</b>
     Safari 3: FAIL
    Firefox 3: OK
         IE 7: OK

<b>What steps will reproduce the problem?</b>
1. Resize browser with top border

<b>What is the expected result?</b>
I do not know.

<b>What happens instead?</b>
The rendering place and sidebar does not resize with other elements.

Please provide any additional information below. Attach a screenshot if 
possible.
 
</pre>


 <div class="attachments">
 
 
 




 <table cellspacing="3" cellpadding="2" border="0">
 <tr><td width="20">
 <a href="http://chromium.googlecode.com/issues/attachment?aid=-3808356448769351515&amp;name=bug.JPG&amp;token=5762fcddd2ed2a7edf7b5c773b88d21e">
 <img width="15" height="15" src="/hosting/images/paperclip.gif" border="0" >
 </a>
 </td>
 <td style="min-width:16em" valign="top">
 
 <b >bug.JPG</b>
 <br>
 183 KB
 
 
 &nbsp; <a href="http://chromium.googlecode.com/issues/attachment?aid=-3808356448769351515&amp;name=bug.JPG&amp;token=5762fcddd2ed2a7edf7b5c773b88d21e&amp;inline=1" target="_blank">View</a>
 
 &nbsp; <a href="http://chromium.googlecode.com/issues/attachment?aid=-3808356448769351515&amp;name=bug.JPG&amp;token=5762fcddd2ed2a7edf7b5c773b88d21e">Download</a>
 
 </td>
 
 </tr>
 
 
 <tr>
 <td colspan="3">
 <a href="http://chromium.googlecode.com/issues/attachment?aid=-3808356448769351515&amp;name=bug.JPG&amp;token=5762fcddd2ed2a7edf7b5c773b88d21e&amp;inline=1" target="_blank">
 <img src="http://chromium.googlecode.com/issues/attachment?aid=-3808356448769351515&amp;name=bug.JPG&amp;token=5762fcddd2ed2a7edf7b5c773b88d21e&amp;inline=1&amp;thumb=1" class="preview">
 </a>
 </td>
 </tr>
 
 
 </table>


 
 </div>

 </td>
 </tr>

 

 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c1"
 href="#c1">1</a>
 by
 <a style="white-space: nowrap" href="/u/rrutek/">rrutek</a></span>,
 <span class="date" title="Tue Sep  2 12:22:48 2008">Sep 02, 2008</span>
 
<pre>
Sorry for my english - in question &quot;What is the expected result?&quot; answer is &quot;The 
rendering place and sidebar does not resize with other elements.&quot;.
</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c2"
 href="#c2">2</a>
 by
 <a style="white-space: nowrap" href="/u/mal.chromium/">mal.chromium</a></span>,
 <span class="date" title="Tue Sep  2 13:21:27 2008">Sep 02, 2008</span>
 
<pre>
This looks like a known issue. Internal bug 1272348. We're expecting a fix from the 
Gmail team.

This also affects Safari 3.1 for Windows.
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <b>Status:</b> Upstream<br><b>Owner:</b> m...@chromium.org<br><b>Labels:</b> gmail<br>
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c3"
 href="#c3">3</a>
 by
 <a style="white-space: nowrap" href="/u/michalporeba/">michalporeba</a></span>,
 <span class="date" title="Fri Sep  5 01:01:44 2008">Sep 05, 2008</span>
 
<pre>
It is only when you resize it to something more then 800px if that helps
</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c4"
 href="#c4">4</a>
 by
 <a style="white-space: nowrap" href="/u/phistuck/">phistuck</a></span>,
 <span class="date" title="Fri Dec 12 07:54:01 2008">Dec 12, 2008</span>
 
<pre>
Looks like only vertical resizing makes it happen. Once you resize it horizontally (even 
by one pixel), GMail matches the scroll bar to the new window size.
</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c5"
 href="#c5">5</a>
 by
 <a style="white-space: nowrap" href="/u/phistuck/">phistuck</a></span>,
 <span class="date" title="Sat Dec 13 23:04:37 2008">Dec 13, 2008</span>
 
<pre>
Please note - this is happening also with Flash.
<a href="http://www.intel.com/distributed/iip/lite/rich/atom_netbook/index.htm">http://www.intel.com/distributed/iip/lite/rich/atom_netbook/index.htm</a>

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c6"
 href="#c6">6</a>
 by
 <a style="white-space: nowrap" href="/u/phistuck/">phistuck</a></span>,
 <span class="date" title="Sat Dec 13 23:06:07 2008">Dec 13, 2008</span>
 
<pre>
Vertical resizing - only when I make it bigger. Smaller works fine.
</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c7"
 href="#c7">7</a>
 by
 <a style="white-space: nowrap" href="/u/phistuck/">phistuck</a></span>,
 <span class="date" title="Sun Jan 25 22:02:15 2009">Jan 25, 2009</span>
 
<pre>
Seems like it has been fixed (2.0.158.0).
</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c10"
 href="#c10">10</a>
 by
 <a style="white-space: nowrap" href="/u/GraemeErickson/">GraemeErickson</a></span>,
 <span class="date" title="Thu Jul  2 11:34:43 2009">Jul 02, 2009</span>
 
<pre>
Works fine in 3.0.190.4. This issue can probably be closed.
</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c11"
 href="#c11">11</a>
 by
 <a style="white-space: nowrap" href="/u/mal.chromium/">mal.chromium</a></span>,
 <span class="date" title="Thu Jul  2 11:39:39 2009">Jul 02, 2009</span>
 
<pre>
Yes, this has been fixed for some time.
</pre>
 
 
 <div class="updates">
 <div class="round4"></div>
 <div class="round2"></div>
 <div class="round1"></div>
 <div class="box-inner">
 <b>Status:</b> Verified<br>
 </div>
 <div class="round1"></div>
 <div class="round2"></div>
 <div class="round4"></div>
 </div>
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c12"
 href="#c12">12</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Tue Jul 21 12:52:12 2009">Jul 21, 2009</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=21203">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=21203</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=21203">r21203</a> | estade@chromium.org | 2009-07-21 12:51:24 -0700 (Tue, 21 Jul 2009) | 100 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/browser/renderer_host/render_widget_host_view_gtk.cc?r1=21203&amp;r2=21202">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/browser/renderer_host/render_widget_host_view_gtk.cc?r1=21203&amp;r2=21202</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/browser/renderer_host/render_widget_host_view_gtk.h?r1=21203&amp;r2=21202">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/browser/renderer_host/render_widget_host_view_gtk.h?r1=21203&amp;r2=21202</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/webkit/api/src/gtk/WebInputEventFactory.cpp?r1=21203&amp;r2=21202">http://src.chromium.org/viewvc/chrome/trunk/src/webkit/api/src/gtk/WebInputEventFactory.cpp?r1=21203&amp;r2=21202</a>

This change list improves IME support on Linux. Many corner cases that were not
handled in original code are addressed, for example the input method in password
box case.

The most important change in this CL is the change to key event processing flow.
 In old code, a key event will first be sent to webkit then dispatched to IME
for filtering. With this CL, a key event will first be dispatched to IME for
filtering, then how to send the event to webkit is decided by the filtering
result.

This CL tries to emulate the keyboard input behavior on Windows as much as
possible. For example, if a keydown event is filtered by IME, then its virtual
key code will be changed to VK_PROCESSKEY(0xE5) to prevent webkit from
processing it again. This behavior can workaround <a title="arrow keys and backspace/delete keys move/delete two characters at a time when xim immodule is used" class=closed_ref href="/p/chromium/issues/detail?id=16281"> bug 16281 </a>.

To test this CL, you may cut and save following html code into a file and open
it in chrome.
------------------8&lt;----cut here-----&gt;8---------------------
&lt;html&gt;&lt;head&gt;
&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;

&lt;script&gt;
function keyEventHandler(event) {
  var props = [ &quot;type&quot;, &quot;charCode&quot;, &quot;keyCode&quot;, &quot;altKey&quot;,
    &quot;ctrlKey&quot;, &quot;shiftKey&quot;, &quot;metaKey&quot; ];
  var info = document.getElementById('info');
  var s = '';
  for (var i in props) {
    s += props[i] + ':' + event[props[i]] + ' ';
  }
  info.value += s + '\n';
}

function textEventHandler(event) {
  info.value += &quot;type:&quot; + event['type'] + &quot; data:&quot; + event['data'] + '\n';
}

function passwordChangeEventHandler(event) {
  var input2 = document.getElementById('input2');
  info.value += &quot;password:&quot; + input2.value + '\n';
}

function onLoad() {
  var input = document.getElementById('input');
  input.addEventListener('keydown', keyEventHandler, false);
  input.addEventListener('keyup', keyEventHandler, false);
  input.addEventListener('keypress', keyEventHandler, false);
  input.addEventListener('textInput', textEventHandler, false);
  var input2 = document.getElementById('input2');
  input2.addEventListener('change', passwordChangeEventHandler, false);
}
&lt;/script&gt;
&lt;/head&gt;&lt;body onload=&quot;onLoad()&quot;&gt;
&lt;input id=&quot;input&quot; size=&quot;20&quot;&gt;
&lt;input id=&quot;input2&quot; type=&quot;password&quot; size=&quot;20&quot;&gt;
&lt;p&gt;
&lt;textarea id=&quot;info&quot; rows=&quot;40&quot; cols=&quot;150&quot;&gt;&lt;/textarea&gt;
&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;
------------------8&lt;----cut here-----&gt;8---------------------

This CL was confirmed to fix following issues:
BUG=16281 &quot;arrow keys and backspace/delete keys move/delete two characters at a
time when xim immodule is used&quot;
BUG=16282 &quot;Disable IMEs in a password input&quot;
BUG=16596 &quot;fcitx (chinese input method) not working in ubuntu 9.04&quot;
BUG=16659 &quot;Crash near RenderWidgetHostViewGtk::IMEUpdateStatus&quot;
BUG=16699 &quot;Can't move cursor to omnibox and use input method if cursor is
currently in a text input box in web page.&quot;
BUG=16796 &quot;Input method issue: When inputting text in a text box, if there is a
composition string then pressing Backspace or Delete will cause the composition
string be cleared and the text box refuses to accept any further input.

All tests assume above html code is used.
TEST=Start scim with &quot;scim -d&quot; and start chrome with GTK_IM_MODULE=xim and
XMODIFIERS=@im=SCIM. Type something in input box, eg. &quot;hello&quot;, then press
backspace, to see if only one character is deleted.
TEST=Move cursor to password input box, press ctrl-space to see if input method
is not activated. Switch keyboard layout to Canadian-French then type a'[{' key
and an 'a' key, then press enter, to see if a Latin character &quot;U+00E2&quot; is
inputted in password box.
TEST=Install fcitx with &quot;sudo apt-get install fcitx&quot; (assume you are using
Ubuntu/Debian). Open a terminal, export XMODIFIERS=@im=fcitx and
GTK_IM_MODULE=xim then run fcitx, then start chrome. Move cursor into an input
box, press ctrl-space and input something, eg. &quot;nihao&quot; then press space. Check
if some Chinese characters are inputted.
TEST=Start chrome with GTK_IM_MODULE=scim. Move cursor into a text input box
then move into a password box, chrome should not crash.
TEST=Move cursor into a text input box, then click omnibox, and see if the text
input box has lost focus. Press ctrl-space to activate input method, then type
something, and see of the input goes into omnibox.
TEST=Move cursor into a text input box and enable a Chinese Pinyin input method,
then type something, eg. &quot;dajiahao&quot;, make sure a composition string is displayed
in the text input box, then press backspace and see if there is still a
composition string and backspace is handled by input method.

patch by James Su &lt;james.su [at] gmail&gt;
original review URL: &lt;<a href="http://codereview.chromium.org/149755">http://codereview.chromium.org/149755</a>&gt;


Review URL: <a href="http://codereview.chromium.org/155869">http://codereview.chromium.org/155869</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c13"
 href="#c13">13</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Sun Nov 29 19:28:22 2009">Nov 29, 2009</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=33264">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=33264</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=33264">r33264</a> | mark@chromium.org | 2009-11-29 19:27:28 -0800 (Sun, 29 Nov 2009) | 24 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/common/plugin_messages.h?r1=33264&amp;r2=33263">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/common/plugin_messages.h?r1=33264&amp;r2=33263</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/common/plugin_messages_internal.h?r1=33264&amp;r2=33263">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/common/plugin_messages_internal.h?r1=33264&amp;r2=33263</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/webplugin_delegate_stub.cc?r1=33264&amp;r2=33263">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/webplugin_delegate_stub.cc?r1=33264&amp;r2=33263</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/webplugin_proxy.cc?r1=33264&amp;r2=33263">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/webplugin_proxy.cc?r1=33264&amp;r2=33263</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/webplugin_proxy.h?r1=33264&amp;r2=33263">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/webplugin_proxy.h?r1=33264&amp;r2=33263</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/renderer/webplugin_delegate_proxy.cc?r1=33264&amp;r2=33263">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/renderer/webplugin_delegate_proxy.cc?r1=33264&amp;r2=33263</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/renderer/webplugin_delegate_proxy.h?r1=33264&amp;r2=33263">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/renderer/webplugin_delegate_proxy.h?r1=33264&amp;r2=33263</a>

Add acknowledgement messages for PluginMsg_UpdateGeometry.  On the Mac, use
these acknowledgements to know when it's safe to dump old TransportDIBs in the
renderer process.  The Mac TransportDIB implementation uses
base::SharedMemory, which cannot be disposed of if an in-flight UpdateGeometry
message refers to the shared memory file descriptor.

BUG=27510, 26754
TEST=1. From <a title="Clickint ona  link puts a blue outline across it" class=closed_ref href="/p/chromium/issues/detail?id=25710"> bug 25710 </a>:
         a. Visit <a href="http://www.dkmsoftware.com/Yubotu.htm">http://www.dkmsoftware.com/Yubotu.htm</a>
         b. Click &quot;Play Now&quot;
         c. Resize vigorously.
        Expect: no sad plug-in icon.
     2. Test case from <a title="Crash in IPC::Channel::ChannelImpl::CreatePipe(std::string const&amp;, IPC::Channel::Mode) calling DebugUtil::BreakDebugger(..." class=closed_ref href="/p/chromium/issues/detail?id=26754"> bug 26754 </a> (affected machines only):
         a. Visit <a href="http://news.google.com/">http://news.google.com/</a>
         b. Click the [+] to the left of a YouTube link.  On affected
            machines, you'll get a sad plug-in icon.
         c. Click the [+] to the left of a different YouTube link.
        Expect: no crash.
     3. Test case from <a title="Crash in IPC::Channel::ChannelImpl::CreatePipe(std::string const&amp;, IPC::Channel::Mode) calling DebugUtil::BreakDebugger(..." class=closed_ref href="/p/chromium/issues/detail?id=26754"> bug 26754 </a> comment 9 (affected machines only):
         a. Have lots of bookmarks (import Safari defaults)
         b. Right-click on bookmark bar, and choose &quot;Open All Bookmarks&quot;
        Expect: no crash.
        This change may not actually fix the third test case.
Review URL: <a href="http://codereview.chromium.org/417005">http://codereview.chromium.org/417005</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c14"
 href="#c14">14</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Sun Nov 29 19:30:34 2009">Nov 29, 2009</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=33265">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=33265</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=33265">r33265</a> | mark@chromium.org | 2009-11-29 19:30:18 -0800 (Sun, 29 Nov 2009) | 29 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/common/plugin_messages.h?r1=33265&amp;r2=33264">http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/common/plugin_messages.h?r1=33265&amp;r2=33264</a>
   M <a href="http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/common/plugin_messages_internal.h?r1=33265&amp;r2=33264">http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/common/plugin_messages_internal.h?r1=33265&amp;r2=33264</a>
   M <a href="http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/plugin/webplugin_delegate_stub.cc?r1=33265&amp;r2=33264">http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/plugin/webplugin_delegate_stub.cc?r1=33265&amp;r2=33264</a>
   M <a href="http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/plugin/webplugin_proxy.cc?r1=33265&amp;r2=33264">http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/plugin/webplugin_proxy.cc?r1=33265&amp;r2=33264</a>
   M <a href="http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/plugin/webplugin_proxy.h?r1=33265&amp;r2=33264">http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/plugin/webplugin_proxy.h?r1=33265&amp;r2=33264</a>
   M <a href="http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/renderer/webplugin_delegate_proxy.cc?r1=33265&amp;r2=33264">http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/renderer/webplugin_delegate_proxy.cc?r1=33265&amp;r2=33264</a>
   M <a href="http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/renderer/webplugin_delegate_proxy.h?r1=33265&amp;r2=33264">http://src.chromium.org/viewvc/chrome/branches/249/src/chrome/renderer/webplugin_delegate_proxy.h?r1=33265&amp;r2=33264</a>

Merge <a href="/p/chromium/source/detail?r=33264">r33264</a> from the trunk to the 249 branch.

Add acknowledgement messages for PluginMsg_UpdateGeometry.  On the Mac, use
these acknowledgements to know when it's safe to dump old TransportDIBs in the
renderer process.  The Mac TransportDIB implementation uses
base::SharedMemory, which cannot be disposed of if an inflight UpdateGeometry
message refers to the shared memory file descriptor.

BUG=27510, 26754
TEST=1. From <a title="Clickint ona  link puts a blue outline across it" class=closed_ref href="/p/chromium/issues/detail?id=25710"> bug 25710 </a>:
         a. Visit <a href="http://www.dkmsoftware.com/Yubotu.htm">http://www.dkmsoftware.com/Yubotu.htm</a>
         b. Click &quot;Play Now&quot;
         c. Resize vigorously.
        Expect: no sad plugin icon.
     2. Test case from <a title="Crash in IPC::Channel::ChannelImpl::CreatePipe(std::string const&amp;, IPC::Channel::Mode) calling DebugUtil::BreakDebugger(..." class=closed_ref href="/p/chromium/issues/detail?id=26754"> bug 26754 </a> (affected machines only):
         a. Visit <a href="http://news.google.com/">http://news.google.com/</a>
         b. Click the [+] to the left of a YouTube link.  On affected
            machines, you'll get a sad plugin icon.
         c. Click the [+] to the left of a different YouTube link.
        Expect: no crash.
     3. Test case from <a title="Crash in IPC::Channel::ChannelImpl::CreatePipe(std::string const&amp;, IPC::Channel::Mode) calling DebugUtil::BreakDebugger(..." class=closed_ref href="/p/chromium/issues/detail?id=26754"> bug 26754 </a> comment 9 (affected machines only):
         a. Have lots of bookmarks (import Safari defaults)
         b. Rightclick on bookmark bar, and choose &quot;Open All Bookmarks&quot;
        Expect: no crash.
        This change may not actually fix the third test case.
Review URL: <a href="http://codereview.chromium.org/417005">http://codereview.chromium.org/417005</a>

TBR=mark@chromium.org
Review URL: <a href="http://codereview.chromium.org/449007">http://codereview.chromium.org/449007</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c15"
 href="#c15">15</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Mon Nov 30 20:26:57 2009">Nov 30, 2009</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=33351">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=33351</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=33351">r33351</a> | mark@chromium.org | 2009-11-30 14:14:37 -0800 (Mon, 30 Nov 2009) | 17 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/ipc/ipc_channel_posix.cc?r1=33351&amp;r2=33350">http://src.chromium.org/viewvc/chrome/trunk/src/ipc/ipc_channel_posix.cc?r1=33351&amp;r2=33350</a>

Don't reuse the initial IPC channel.

I was seeing a non-initial IPC channel getting closed in a renderer, and then
when someone tried to reuse that channel by name,
IPC::Channel::ChannelImpl::CreatePipe would assign the initial pipe.  The
initial pipe was already in use, and things would fall apart pretty rapidly.

I'm making this FATAL because the renderer's probably going to be unusable if
it gets into this state anyway, and a sad tab is probably more useful than a
tab that appears to be loading indefinitely.

BUG=26754
TEST=Test case from <a title="Crash in IPC::Channel::ChannelImpl::CreatePipe(std::string const&amp;, IPC::Channel::Mode) calling DebugUtil::BreakDebugger(..." class=closed_ref href="/p/chromium/issues/detail?id=26754"> bug 26754 </a> comment 9 (affected machines only):
       a. Have lots of bookmarks (import Safari defaults)
       b. Rightclick on bookmark bar, and choose &quot;Open All Bookmarks&quot;
      Expect: no crash.
Review URL: <a href="http://codereview.chromium.org/452021">http://codereview.chromium.org/452021</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c16"
 href="#c16">16</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Mon Nov 30 20:27:04 2009">Nov 30, 2009</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=33353">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=33353</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=33353">r33353</a> | mark@chromium.org | 2009-11-30 14:15:44 -0800 (Mon, 30 Nov 2009) | 22 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/branches/249/src/ipc/ipc_channel_posix.cc?r1=33353&amp;r2=33352">http://src.chromium.org/viewvc/chrome/branches/249/src/ipc/ipc_channel_posix.cc?r1=33353&amp;r2=33352</a>

Merge trunk <a href="/p/chromium/source/detail?r=33351">r33351</a> to the 249 branch.

Don't reuse the initial IPC channel.

I was seeing a noninitial IPC channel getting closed in a renderer, and then
when someone tried to reuse that channel by name,
IPC::Channel::ChannelImpl::CreatePipe would assign the initial pipe.  The
initial pipe was already in use, and things would fall apart pretty rapidly.

I'm making this FATAL because the renderer's probably going to be unusable if
it gets into this state anyway, and a sad tab is probably more useful than a
tab that appears to be loading indefinitely.

BUG=26754
TEST=Test case from <a title="Crash in IPC::Channel::ChannelImpl::CreatePipe(std::string const&amp;, IPC::Channel::Mode) calling DebugUtil::BreakDebugger(..." class=closed_ref href="/p/chromium/issues/detail?id=26754"> bug 26754 </a> comment 9 (affected machines only):
      a. Have lots of bookmarks (import Safari defaults)
      b. Right-click on bookmark bar, and choose &quot;Open All Bookmarks&quot;
     Expect: no crash.
Review URL: <a href="http://codereview.chromium.org/452021">http://codereview.chromium.org/452021</a>

TBR=mark@chromium.org
Review URL: <a href="http://codereview.chromium.org/449029">http://codereview.chromium.org/449029</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c17"
 href="#c17">17</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Tue Mar 16 13:32:11 2010">Mar 16, 2010</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=41755">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=41755</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=41755">r41755</a> | mark@chromium.org | 2010-03-16 13:31:10 -0700 (Tue, 16 Mar 2010) | 17 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/renderer/plugin_channel_host.cc?r1=41755&amp;r2=41754">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/renderer/plugin_channel_host.cc?r1=41755&amp;r2=41754</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/ipc/ipc_channel_posix.cc?r1=41755&amp;r2=41754">http://src.chromium.org/viewvc/chrome/trunk/src/ipc/ipc_channel_posix.cc?r1=41755&amp;r2=41754</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/ipc/ipc_channel_posix.h?r1=41755&amp;r2=41754">http://src.chromium.org/viewvc/chrome/trunk/src/ipc/ipc_channel_posix.h?r1=41755&amp;r2=41754</a>

The plugin channel host in the renderer process should not initialize IPC
using a known-closed channel name.  Instead, when the channel name is known
to be closed, initialization should fail.  On POSIX systems, the channel is
created by the plugin channel in the plugin process and shared with the
renderer process over IPC.  If the channel closes, the renderer process must
not attempt to reestablish it; the plugin process must do that.  This serves
as early detection for and an escape from the assertion that causes renderers
to die and be replaced by a sad tab when attempting to open multiple pages
with plugins simultaneously.  This resolves the Mac renderer top crash.

BUG=26754
TEST=Test case from <a title="Crash in IPC::Channel::ChannelImpl::CreatePipe(std::string const&amp;, IPC::Channel::Mode) calling DebugUtil::BreakDebugger(..." class=closed_ref href="/p/chromium/issues/detail?id=26754"> bug 26754 </a> comment 9 (affected Macs only):
      a. Have lots of bookmarks (import Safari defaults)
      b. Right-click on bookmark bar, and choose &quot;Open All Bookmarks&quot;
     Expect: no crash, no sad tabs.
     This test should be repeated many times.
Review URL: <a href="http://codereview.chromium.org/984004">http://codereview.chromium.org/984004</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c18"
 href="#c18">18</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Thu Mar 18 09:15:08 2010">Mar 18, 2010</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=41957">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=41957</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=41957">r41957</a> | mark@chromium.org | 2010-03-18 09:14:49 -0700 (Thu, 18 Mar 2010) | 13 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/plugin_channel.cc?r1=41957&amp;r2=41956">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/plugin_channel.cc?r1=41957&amp;r2=41956</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/plugin_channel.h?r1=41957&amp;r2=41956">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/plugin_channel.h?r1=41957&amp;r2=41956</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/plugin_thread.cc?r1=41957&amp;r2=41956">http://src.chromium.org/viewvc/chrome/trunk/src/chrome/plugin/plugin_thread.cc?r1=41957&amp;r2=41956</a>

Don't auto-close the renderer-side plugin channel file descriptor in the
renderer process.  Wait until the renderer has proved that it has access to
its end of the socket before closing it manually.

BUG=38459
TEST=Test case from  <a title="Crash in IPC::Channel::ChannelImpl::CreatePipe(std::string const&amp;, IPC::Channel::Mode) calling DebugUtil::BreakDebugger(..." class=closed_ref href="/p/chromium/issues/detail?id=26754"> bug 26754 </a>  comment 9 (affected Macs only):
      1. Have lots of bookmarks (import Safari defaults)
      2. Right-click on bookmark bar, and choose &quot;Open All Bookmarks&quot;
     Expect: no crash, no sad tabs, none of the following messages logged:
      a. LOG(ERROR) &lt;&lt; &quot;Refusing use of missing IPC channel &quot; ...
      b. LOG(FATAL) &lt;&lt; &quot;Denying attempt to reuse initial IPC channel for &quot; ...
     This test should be repeated many times.
Review URL: <a href="http://codereview.chromium.org/1066001">http://codereview.chromium.org/1066001</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c19"
 href="#c19">19</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Fri Mar 19 10:30:10 2010">Mar 19, 2010</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=42118">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=42118</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=42118">r42118</a> | wtc@chromium.org | 2010-03-19 10:29:06 -0700 (Fri, 19 Mar 2010) | 20 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/base/test_certificate_data.h?r1=42118&amp;r2=42117">http://src.chromium.org/viewvc/chrome/trunk/src/net/base/test_certificate_data.h?r1=42118&amp;r2=42117</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/base/x509_certificate_nss.cc?r1=42118&amp;r2=42117">http://src.chromium.org/viewvc/chrome/trunk/src/net/base/x509_certificate_nss.cc?r1=42118&amp;r2=42117</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/base/x509_certificate_unittest.cc?r1=42118&amp;r2=42117">http://src.chromium.org/viewvc/chrome/trunk/src/net/base/x509_certificate_unittest.cc?r1=42118&amp;r2=42117</a>

Do not use cert_pi_useAIACertFetch by default.  Use it only
when we are likely to be missing intermediate CA certificates.

Work around the SEC_ERROR_POLICY_VALIDATION_FAILED error from
CERT_PKIXVerifyCert by retrying CERT_PKIXVerifyCert with the
certificate policy in the certificate.

Map SEC_ERROR_POLICY_VALIDATION_FAILED to ERR_CERT_INVALID
if we can't work around the error.

Start the migration away from test_certificate_data.h to the
certificate files in the src/net/data/ssl/certificates
directory.

R=eroman
BUG=31497,30891,37549
TEST=A new unit test.  To verify the fix for <a title="https://XXXX.us.army.mil sites not working." class=closed_ref href="/p/chromium/issues/detail?id=31497"> issue 31497 </a>
manually, must install the &quot;DoD Root CA 2&quot; certificate first
(see comment 9 of <a title="https://XXXX.us.army.mil sites not working." class=closed_ref href="/p/chromium/issues/detail?id=31497"> bug 31497 </a>).
Review URL: <a href="http://codereview.chromium.org/545103">http://codereview.chromium.org/545103</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 
 
 <tr class="cursor_off">
 <td class="vt issuecomment">
 
 
 
 <span class="author">Comment <a name="c20"
 href="#c20">20</a>
 by
 <a style="white-space: nowrap" href="/u/bugdroid1@chromium.org/">bugdroid1@chromium.org</a></span>,
 <span class="date" title="Wed Apr  7 15:42:05 2010">Apr 07, 2010</span>
 
<pre>
The following revision refers to this bug:
    <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=43888">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=43888</a> 

------------------------------------------------------------------------
<a href="/p/chromium/source/detail?r=43888">r43888</a> | eroman@chromium.org | 2010-04-07 15:41:58 -0700 (Wed, 07 Apr 2010) | 6 lines
Changed paths:
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/ftp/ftp_network_transaction.cc?r1=43888&amp;r2=43887">http://src.chromium.org/viewvc/chrome/trunk/src/net/ftp/ftp_network_transaction.cc?r1=43888&amp;r2=43887</a>
   M <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/ftp/ftp_network_transaction_unittest.cc?r1=43888&amp;r2=43887">http://src.chromium.org/viewvc/chrome/trunk/src/net/ftp/ftp_network_transaction_unittest.cc?r1=43888&amp;r2=43887</a>

Make sure to strip the brackets around IPv6 literals when resolving the hostname for FTP.

BUG=39830 (comment #9)
TEST=FtpNetworkTransactionTest.StripBracketsFromIPv6Literals

Review URL: <a href="http://codereview.chromium.org/1585022">http://codereview.chromium.org/1585022</a>
------------------------------------------------------------------------

</pre>
 
 
 </td>
 </tr>
 
 

 



 
 <tr>
 <td class="vt issuecomment">
 <span class="indicator">&#9658;</span> <a href="https://www.google.com/accounts/ServiceLogin?service=code&ltmpl=phosting&continue=http%3A%2F%2Fcode.google.com%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D9&amp;followup=http%3A%2F%2Fcode.google.com%2Fp%2Fchromium%2Fissues%2Fdetail%3Fid%3D9"
 >Sign in</a> to add a comment
 </td>
 </tr>
 


</tbody>
</table>
<br>
<script type="text/javascript" src="http://www.gstatic.com/codesite/ph/9392543809124535420/js/dit_scripts_20081013.js"></script>





 


</div> 
<form name="delcom" action="delComment.do?q=&amp;can=2&amp;sort=&amp;colspec=ID+Stars+Pri+Area+Feature+Type+Status+Summary+Modified+Owner+Mstone+OS" method="POST">
 <input type="hidden" name="sequence_num" value="">
 <input type="hidden" name="mode" value="">
 <input type="hidden" name="id" value="9">
 <input type="hidden" name="token" value="">
</form>
<div id="helparea"></div>
<script type="text/javascript">
 _onload();
 function delComment(sequence_num, delete_mode) {
 var f = document.forms["delcom"];
 f.sequence_num.value = sequence_num;
 f.mode.value = delete_mode;
 
 f.submit();
 return false;
 }
 _floatMetadata();
</script>
<script type="text/javascript" src="http://kibbles.googlecode.com/files/kibbles-1.3.1.comp.js"></script>
<script type="text/javascript">
 _setupKibblesOnDetailPage(
 'http://code.google.com/p/chromium/issues/list?cursor\x3d9',
 '/p/chromium/issues/entry',
 '',
 '',
 '', 'chromium', 9,
 false, false);
</script>
 
 
 <script type="text/javascript" src="http://www.gstatic.com/codesite/ph/9392543809124535420/js/core_scripts_20081103.js"></script>
 <script type="text/javascript" src="/js/codesite_product_dictionary_ph.pack.04102009.js"></script>
 </div>
<div id="footer" dir="ltr">
 
 <div class="text">
 
 &copy;2010 Google -
 <a href="/projecthosting/terms.html">Terms</a> -
 <a href="http://www.google.com/privacy.html">Privacy</a> -
 <a href="/p/support/">Project Hosting Help</a>
 
 </div>
</div>

 <div class="hostedBy" style="margin-top: -20px;">
 <span style="vertical-align: top;">Powered by <a href="http://code.google.com/projecthosting/">Google Project Hosting</a></span>
 </div>
 
 


 
 </body>
</html>

